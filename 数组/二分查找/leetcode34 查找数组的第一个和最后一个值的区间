"""
这是拿最简单的思维做的
"""
"""
class Solution(object):
    def searchRange(self, nums, target):       
        result = [-1, -1]
        flag = 0
        for i in range(0, len(nums)):
            if nums[i] == target:
                if flag == 0: #第一次查找到
                    flag = 1
                    result[0] = i
                    result[1] = i
                else:  #不是第一次查找到
                    if i == len(nums)-1:  #是最后一个元素了
                        result[1] = i
                    else:  #不是最后一个元素
                        if nums[i+1] != target:
                            result[1] = i
                            break
        return result
"""
"""
三种情况:
1.[3,4,5] target = 2 or target = 6  target在数组的范围之外  可能只需要判断一下开头和末尾的元素
2.target在数组范围内但是不存在数组中，此时也返回[-1, -1] target在数组中未查找到
3.target在数组范围内且存在于数组之中， [3,6,7] target = 6 ，此时返回[1,1]
考查点:二分查找的两种写法
"""
"""
思路一
class Solution(object):
    def searchRange(self, nums, target):
       
       
        left = 0
        right = len(nums)-1
        #用二分法分别找右边界和左边界，右边界就是数组中第一个大于target的值，左边界就是找第一个小于target的值所在位置
        def getRightBorder(nums, target, left, right):
            rightBorder  = -2
            while left <= right:
                mid = (right + left) // 2
                if nums[mid] > target:
                    right = mid - 1
                else:
                    left = mid + 1
                    rightBorder = left
            return rightBorder
        def getLeftBorder(nums, target, left, right):
            left = 0
            right = len(nums)-1
            leftBorder  = -2
            while left <= right:
                mid = (right + left) // 2
                if nums[mid] >= target:
                    right = mid - 1
                    leftBorder = right
                else:
                    left = mid + 1   
            return leftBorder
        rightBorder = getRightBorder(nums, target, 0, len(nums) - 1)
        leftBorder = getLeftBorder(nums, target, 0, len(nums) - 1)
        if rightBorder == -2 or leftBorder == -2 :
            return [-1, -1]
        if rightBorder - leftBorder > 1:
            return [leftBorder + 1, rightBorder - 1]
        return [-1, -1]
"""
"""
先使用二分查找找到target的位置，如果二分查找失败，直接返回[-1,-1],否则左右滑动来找到第一个小于target和第第一个大于target的值来确定左右边界
"""
class Solution(object):
    def searchRange(self, nums, target):
        left = 0
        right = len(nums) - 1
        while left <= right:
            mid = (right +  left)//2
            if nums[mid] > target:
                right = mid -1
            elif nums[mid] <  target:
                left = mid + 1
            else:
                break
        #二分查找失败
        if left > right:
            return [-1, -1]
        else:
            #先找右边界
            rightBorder = mid
            while rightBorder<=len(nums)-1 and nums[rightBorder] <= target:
                rightBorder += 1
            leftBorder = mid
            while leftBorder>=0 and nums[leftBorder] >= target:
                leftBorder -= 1
            return [leftBorder+1, rightBorder-1]
        
nums = [1]
target = 1
s = Solution()
print(s.searchRange(nums, target))
